---
apiVersion: v1
kind: Secret
metadata:
  name: gitea-credentials
  namespace: flux-system
type: Opaque
data:
  username: Z2l0ZWFfYWRtaW4=
  password: cjhzQThDUEhEOSFidDZk
  caFile: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUdCakNDQSs2Z0F3SUJBZ0lVZTlSTW9hbWlORURqWERqam9WdDBrczZKVXFFd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2dZWXhDekFKQmdOVkJBWVRBbGhZTVJJd0VBWURWUVFJREFsVGRHRjBaVTVoYldVeEVUQVBCZ05WQkFjTQpDRU5wZEhsT1lXMWxNUlF3RWdZRFZRUUtEQXREYjIxd1lXNTVUbUZ0WlRFYk1Ca0dBMVVFQ3d3U1EyOXRjR0Z1CmVWTmxZM1JwYjI1T1lXMWxNUjB3R3dZRFZRUUREQlJEYjIxdGIyNU9ZVzFsVDNKSWIzTjBibUZ0WlRBZUZ3MHkKTXpFeU1URXhNVFV6TURWYUZ3MHpNekV5TURneE1UVXpNRFZhTUlHR01Rc3dDUVlEVlFRR0V3SllXREVTTUJBRwpBMVVFQ0F3SlUzUmhkR1ZPWVcxbE1SRXdEd1lEVlFRSERBaERhWFI1VG1GdFpURVVNQklHQTFVRUNnd0xRMjl0CmNHRnVlVTVoYldVeEd6QVpCZ05WQkFzTUVrTnZiWEJoYm5sVFpXTjBhVzl1VG1GdFpURWRNQnNHQTFVRUF3d1UKUTI5dGJXOXVUbUZ0WlU5eVNHOXpkRzVoYldVd2dnSWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJSwpBb0lDQVFDdC9KaXJrelB6cFBKUVdkOEJsTGIzU2dWU1B2L1RjZFdSQXFBaUlpNTBkMEwvN2gxQjkzejJuaTVNCjdyYkRPY3RmU2kyb2FCTG9uYzNmOGJEOExwZjNjT2lNamJkVmRZNCtBN3FjZVU1VURZdXdYK29hZVhNS2d3MC8KT29rbFI5eVFQc0hFU25wa0NwVmFQVm9sN2czeThUc3NnbFVnQTBJRjY4dnlGRk9iZ3Jja3dVOGUyeElEU1hzZApYbGF6a1RmV0oyb3d6aWhTblR1REtyUGc3REZWdHNHcGlvdExDTUVtQmhzUHl4NTl1ZTFTdFFvanhjNndnWHFtCjFmZE1UK25KZW9pUVJ1SURpQ0lKYUhuK0ZvV2cyQi90L3EwbGxvMllSSlFJY1VnYisyWERFYzhXY0dXblZTaXQKQzd1bjNETzlZZXFRN0hFMFJEMFpQWWRUcUE3ZzB1bE5mUXg5M1gwZmxDTEJlVzZPa0drc014QnpBaXBMY28xaAp4ekdxcWE0ZnlqQUx5T2JLVFFLTXM5dnRjRUZ6RzgwSmROL3ByUGx3Ukp1VFpHOWRuS1loR1V2aEg0d3NhVXlFCjFHNkFZV0VuZC9XaGVicTVRSkFZWFRia1piUm5lUEhrMTFnZlcxSnpPN2VESUd4Y2s2VUNUZlJmRzZ4bDAwSDYKV3d1S1lDcktMSitIblYrdml6YTVGdjJ1ODBSRVBOSjJKaXZ4WC9tLzExeGRwNkkyYUZGblF5VFJiL1lsY082TgpEMWsrNFdYV1drWjZXMGRIVGMzYzdlRXlhV0FQc0YybWNsSDAwNEp6NjNNYzhONDkzdUZ4eWp5blk1SVR6UzZ6CjdTY1dtR2xlbEJSZHJHVE5mSU9SV0UzMzI3LzV5bFJoM2YzNk1vQWdVSnZZT2NTNkRRSURBUUFCbzJvd2FEQWQKQmdOVkhRNEVGZ1FVb25ZTzA4WlgwTHcrdEZBVmlCYk5mbzdwREQ0d0h3WURWUjBqQkJnd0ZvQVVvbllPMDhaWAowTHcrdEZBVmlCYk5mbzdwREQ0d0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBVkJnTlZIUkVFRGpBTWh3U3NFZ0FECmh3U3NFZ0FDTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElDQVFBZU5scTBGRlN1eTQ3aW1wQzlCWE5YVm5xcENMTmsKcHdmK3NBN2ttOGtwb1Z4VTFEOHA0WWRYZXh5ZHhsV3ZlNWsyZWExN2ZSVGQzZnlnaGdQcU04bW1FamtlRXFaRgpIRnpGYVpJQ2YrM2gxV29HSm15a3VjRTRnMzUvMk83cTgwMUl1amVYMCtsTU8vMHhuMXQxSVRWby9aOUxxY0dFCjd4MTEwMnByOE8ydEFqaVJKMm1CbUg4Qmp1SlhPd212bVUzbmJiS0FuYkxtZVRqQ1VhOUlhcU9OOXJGUW9yYWIKQUd6ZGZkNjMrcDY3NURZWS96WGh5dTJCbDV6aitpRFZKUGx4K0FNei9KcmNWNHVBUTkvbUZMVjVNNUVCbEFvdgo3aGNOSXc2UDdnV1JYWjJhaDZqa3FjeXRwcytXTGcrVDAxZy9JSlFyazlrZHMrN2piNzFvaE9VVzMweDlkMHpaCkpiRk9qSjdzYWh6Vmhub04weTNhZ3g2Zk44RGpKYmdYSjFlUFNTNzdIVXBnYy83anBCZDBhK3FONm1SandIT2MKbkZmcWVjeWtqb3dSSXNFMm0xakViL2NXZlUyZ05ERzI2SC8rd0dBSWQ4RkthQldkTlMvSUZRQzJPbTNxQndMTgp5ZFIycVM1aDduRG5pZlVabGFvdmFkTzhORWU0dExuNHhraGRpUHExdXZHbHI2V2I3ZUlWRDg3dnV5ekVGNmw2Cm5EL3dvOE9xV24xaDV0NDBRQUJtajlYbVBKeGR5a1VIM0Z5RDIyV283NE5SZ2Z0NkFJNHVnM3A2SFhVUGM0eFkKTjVDNUhnTGpSRldNWVFialZBenFwdzJMSnJUWWVUakh6TUdvVXBXN296azNrSno0WTMra3hpUFJGYVIzMHR3NgpCeGRsL25oYkRQOXZxZz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  privateKey: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRZ0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1N3d2dna29BZ0VBQW9JQ0FRQ3QvSmlya3pQenBQSlEKV2Q4QmxMYjNTZ1ZTUHYvVGNkV1JBcUFpSWk1MGQwTC83aDFCOTN6Mm5pNU03cmJET2N0ZlNpMm9hQkxvbmMzZgo4YkQ4THBmM2NPaU1qYmRWZFk0K0E3cWNlVTVVRFl1d1grb2FlWE1LZ3cwL09va2xSOXlRUHNIRVNucGtDcFZhClBWb2w3ZzN5OFRzc2dsVWdBMElGNjh2eUZGT2JncmNrd1U4ZTJ4SURTWHNkWGxhemtUZldKMm93emloU25UdUQKS3JQZzdERlZ0c0dwaW90TENNRW1CaHNQeXg1OXVlMVN0UW9qeGM2d2dYcW0xZmRNVCtuSmVvaVFSdUlEaUNJSgphSG4rRm9XZzJCL3QvcTBsbG8yWVJKUUljVWdiKzJYREVjOFdjR1duVlNpdEM3dW4zRE85WWVxUTdIRTBSRDBaClBZZFRxQTdnMHVsTmZReDkzWDBmbENMQmVXNk9rR2tzTXhCekFpcExjbzFoeHpHcXFhNGZ5akFMeU9iS1RRS00Kczl2dGNFRnpHODBKZE4vcHJQbHdSSnVUWkc5ZG5LWWhHVXZoSDR3c2FVeUUxRzZBWVdFbmQvV2hlYnE1UUpBWQpYVGJrWmJSbmVQSGsxMWdmVzFKek83ZURJR3hjazZVQ1RmUmZHNnhsMDBINld3dUtZQ3JLTEorSG5WK3ZpemE1CkZ2MnU4MFJFUE5KMkppdnhYL20vMTF4ZHA2STJhRkZuUXlUUmIvWWxjTzZORDFrKzRXWFdXa1o2VzBkSFRjM2MKN2VFeWFXQVBzRjJtY2xIMDA0Sno2M01jOE40OTN1Rnh5anluWTVJVHpTNno3U2NXbUdsZWxCUmRyR1ROZklPUgpXRTMzMjcvNXlsUmgzZjM2TW9BZ1VKdllPY1M2RFFJREFRQUJBb0lDQUFvcnBPVUtzdFBBUmFYcXl2MTFxd2hqCm5GSUZlc0RxZTVpQmRjanBCSndzU0k5YlpQeHhNaTNjYTBwMS9kc0ZxdHpFSWswZzRGSVd2MjBpM0x5eElKTUgKVjZDM3ZBclQxMS9LcWdMeG1HR1RkU0gzU1dFSXptL0QzMmRkelp5UFNkWm94THpydWFIVmVJdVE0STh0RGtXdwpVa3cweGpNYjNhVW85b0FOTGlIK0R5U241Qzhpa1RmOStLTnIyMWVkMm95N094cmxRamdxRnN1QkdJakNaZFBqCjNnaENJQWhmMTZLWVlzYVdrZzY1YXFVV0RpU3ZNSGppNkwrTjdHbmFsZ2tBRDdHWFl5amZzVldwZE5Ba2t1VW4KSFI2MWIzdXVCRkx0VjFYekFVc1pkQVptS1J2ZnNDR0srZGk3d2RsN0pzOGdSU3o1bFZoLzBLNkVDVUFicDlybAo0RFMyalMyRzlyWjFacHF5ZEU3NjdUdWx1VndTclpObUJ3eWI5Y3BwVXBhMW5qdzdlaXdSb3phUHhBTE12QU1XCitMUTZCdjJabk5HNWRPbWNaSUhuUjNscS8zZnhkTVY0c1Z0VmJxYkE5bk8ybmZhdkNHMHQ1Wkx1UXpvN2dBYnAKU251TXdjUWRFSVRFUlh3VlhCMFp6bzB5Zlh3RXFjWGtrNFhtL2k0QjJFRlNlQ2RCLzJMNmpQZWI2TklzY1dqcwpmTWFkdjFUWVVEWjJkemNFaS9xRmF6ZlFMWHYzRE1mUGs4UiswalZTbXpBd1d0cy9iM2tENlJDbWVLYUpGdnJOCjdHK0Y3SGNCcElMTDUwcHVBaHRSazRQYXRiWUZhYlNhRzVqMkpURXVWZW9EMEx6STdvVE1MSkNPQSs1MXVMSDEKSG5qWGd4aVZNRDFFUFNpdGxmNUZBb0lCQVFEZ3pZOUFwVWQyZ2l4ZHNBbXRUd3ZiU1FJbW4zN0l1V05vUmljNwplRCtGRjNQdm1NRmRKaWdiZjE0VkhQenBKT1FHZU13YkNFN1lWdVY1WjJIZ2lCMVpWZlNOUCtjRUNUK0JLTGRiCkVhbWxJK1Vteml4TzhMay9IUDhFK1VPb0F6ZHV0SGRHY1ZhNTlLS2Y3c1Mya204NzJra055b3I1cUVUMGtCM2wKWGtxRnRaZXp1WmhidzVGaGV3L1BZdGhKYUY0b0d3WVVCeXVBa1N2bktOVmY4eTZwWTRzU3JBajRidW80ZmZRaAo4KzRidit5VWtFVEQyYnU0TUxvWC9WSGNiQjc0OUF3TXdDc09DRllscEtFdEVzVkN1QWQwQkF6K0ZqbUZKcXZjCjc2cUpIQktVQzlXSzZXck0rcVM3V3paR2pZSmtua0lEa2hkUWVMWWRRQTB6ejBsakFvSUJBUURHSWJmRk1wNEoKSlBRa0FDMGlsNUFmajVaT0lNZVZldXkraVp2RjVwRDFFOE1wVUFBUTJJVVNPR1MvbGF2NzdtVlI0bjVCR21MYgo5Uno4RTNJTDBHQ3Z2Zndpckk2cElRaTl0L0sxY0JKTTl2dUw2ZE9XczRpQkNDQmZQeUc2Wm9UQUxHWVEyTk9JCnFwc3A5NkZKOXFGZXc4WVQ4cGxBYjBhYUNocE50Z0RXWFRKS1NtTmlrOVZVYjg1ZjkzTTJlNllTTW9Uem0rRVgKNytqMWdIci9nOHFDVm4xb1VQSmxiNmJxYXh6dVNNVzVweEFYczIzbmJ4NXZ1RHFXdU5ldU1rc2lnNkprTzl1cwpRQVI4WEtsQVltY3d1SmJDWHNiMWtyU0o1K0tHbmZsYkVyeDdWcjNnK2lyWGlhMXRJeHEvallCTUZ1TWNwYiszCkFiUlhycGU0VlFIUEFvSUJBUURCbXdkMnkyRmloUFdrc2ttRFF3S1pGcVdOa2V0ay81VEhaek8rbWU5S3Rrb1kKM1Z3YTF4UFBxci9pT3hidHkrRytXU2FmV1daZUYyaUdTQzBaYk9DcDRjYytKdnpVa3dwb09DTEJnZEt5OE5rWAp0SlNnWDkyS3AzUlNXa0tVWGtETlRRczBWY1ExWHFUNFRIQ0tORThzSXZDcnVmWTYwVnFocmNTeGw2Vml4bVFpCld3TUdkTVd1U0lmek9kUEFWT3hTYWdPd0dBUzFNMUcyUVlxU21pTmpxdUZKY1hSQVVYWFN0VmNlTHJDd29YZ2sKOHFMbWNZeWtNd0x5U2k3SVFTM2pobnNpT0JaY2ZYMkQ2ZWNOcEk3U3lSOVNJWEwzR1Rqc25jT0NBYjdEV3JQOQpZTHZHYVFTY0NIajdDckVSemltd2NrTzBRNHRrdUxGUE82eWpKREMxQW9JQkFIaEwycGM1ajJoLzdsZTVYNjRrCkZkYUR5TCt3K1YwUjRKSWpYTmdBa0x5c2ZnOGtTcFh2MElQcWg0a25KOS96czhMTzROZElYUU90eENaczdBNnUKT3pZWkJQQk1rdVd2Yis0NHRIMWpDVWwvbitVb1dGYWt0Tm1iQklTd0FSdDZ5VmtnMit1WXFuN05EeDZoQW1XMAovKzlZc0hoR0VMUmxtNWxGVHdrbDIwWk1HWSt2c0w0V2dpMGRJVkYxSFpmVDVWWWhKRVlBdTk5Ync3Ympoa3FEClN6NXRvd0RtUFBaSG56R3ZUVWFFR3NFSTVTVnV4T2tDdDVrZll6dEdDWFh6aFZqMFVYSElRaTFJUlRENDFhNkkKMEp4dFJ1UEd4Y2d1aGIxQmRIRkZrek92b1k3RmNNNGJOazNkZ3RYRHZhYldGREtlcHRBcTlzYjNtdmF0dytLZwpnbE1DZ2dFQVhndVRBblV4V2JDS1ljdjlNYjBnRWwrNlpYaVpPcHFkdWpUM0xvMFpHZVZpbERISlRSVzRIbjZLCjZyZS9JM3g2cFpsRXIxOEhoaklNcExqWHB5WVd2eVFTejlpVjI4NFc5c3lJR0dWdGtGbWVxZ2FpS1JuOFFGN2EKcFFpOFlNRkJMVkFsM0M5anlhQWZvRlVuN1ZrSkxyMTJxV0pVNmQ5RjREbmxGYUtRODV4OTRTZHpHR3NudWUxdwp4SHV5ZEMwSmJ6UEY4UFNJSmErQUJKb1V6UWdVS09JQlJNcDFhRHR0QTlMTndvQ3E1L01ZUHgxNk1GelAxNFFzCmtYeDhlaE1ETjg5dkhxZXhjWHR6eldPamdkQXVBTVhPTTNwNXFMYTBoQUQwWGpycUxyd0hWWXVQaDhlWWFpTDEKbzBndUtGWGloM0pQdjBvVU5VYUtnTUFJejBIdmNRPT0KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=
---
apiVersion: source.toolkit.fluxcd.io/v1beta1
kind: GitRepository
metadata:
  name: kratix-source
  namespace: flux-system
spec:
  interval: 5s
  url: https://PLACEHOLDER:31333/gitea_admin/kratix
  ref:
    branch: main
  secretRef:
    name: gitea-credentials
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta1
kind: Kustomization
metadata:
  name: platform-cluster-resources
  namespace: flux-system
spec:
  interval: 3s
  dependsOn:
    - name: platform-cluster-dependencies
  sourceRef:
    kind: GitRepository
    name: kratix-source
  path: "foo/bar/baz/platform-cluster/resources/"
  prune: true
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta1
kind: Kustomization
metadata:
  name: platform-cluster-dependencies
  namespace: flux-system
spec:
  interval: 8s
  sourceRef:
    kind: GitRepository
    name: kratix-source
  path: "foo/bar/baz/platform-cluster/dependencies/"
  prune: true
